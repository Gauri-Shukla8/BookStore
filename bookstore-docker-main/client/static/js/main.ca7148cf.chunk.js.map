{"version":3,"sources":["context/auth-context.js","components/NavBar/NavBar.js","pages/HomePage.js","pages/AboutPage.js","components/SignIn/SignIn.js","components/SignUp/SignUp.js","pages/AuthPage.js","components/BuyBook/Branches/BranchBox/BranchBox.js","components/BuyBook/Branches/Branches.js","components/BuyBook/SelectedBook/SelectedBook.js","components/BuyBook/ChatBox/ChatBox.jsx","components/BuyBook/Books/Books.js","pages/BuyBookPage.js","components/MyCart/CartItem.js","components/MyCart/Checkout.js","pages/MyCartPage.js","pages/SellPage.js","components/AdminProducts/OptionSelector.js","pages/AdminRequestsPage.js","components/AdminProducts/CreateBranch.js","pages/AdminProductsPage.js","App.js","index.js"],"names":["React","createContext","token","userId","firstname","isAdmin","login","tokenExpiration","logout","NavBar","props","console","log","signIn","isSignedIn","id","onClick","className","exact","to","href","src","alt","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","HomePage","data-ride","data-interval","data-slide-to","style","fontSize","role","data-slide","aria-hidden","AboutPage","SignIn","handleInput","event","target","name","setState","state","value","handleLogin","a","url","process","fetch","method","headers","body","JSON","stringify","email","password","response","json","resData","userid","onChange","this","placeholder","checked","handleSwitch","Component","SignUp","handleSignUp","marginTop","lastname","AuthPage","loginPage","context","contextType","AuthContext","BranchBox","backgroundColor","colour","e","branchName","classes","branchDetails","Branches","branches","map","branch","i","key","branchid","branchname","branchdetails","SelectedBook","useState","bookData","setBookData","showChat","setShowChat","useEffect","authHeader","book","bookid","Authorization","then","bookimg","image","buttonText","sellerid","Fragment","width","title","marginLeft","isbn","author","price","description","onBack","onContact","socket","ChatBoxList","useContext","chatUsers","setChatUsers","chatUserList","cu","chatUser","ChatBoxItem","cursor","pointerEvents","lineHeight","ChatItem","own","message","time","color","Date","toLocaleString","maxWidth","ChatWindow","setHeading","inputRef","createRef","messages","setMessages","chats","fromto","io","emit","s","disconnect","off","on","chat","chatItems","sentby","timestamp","debug","position","bottom","ref","current","m","error","ChatBox","toUser","setToUser","heading","childComponent","Books","handleBookSelection","selectedBook","booklist","filter","handleBack","handleContact","sId","handleAddToCart","isAdded","requestBody","branchId","bookCategory","bind","onCart","marginBottom","margin","BuyBookPage","handleBranchClick","bookCategoryName","isBranchSelected","handleBackClick","CartItem","data","deleteItem","OrderPlaced","Checkout","phone","address","orderPlaced","handlePlaceOrder","Cart","cost","cartItems","item","cartid","onCheckout","MyCartPage","handleCheckout","isCheckout","handleDeleteItem","updatedCart","hasItems","length","SellPage","handleSellBook","formData","FormData","append","imageValue","reflect","catch","err","handleInputChange","files","btnText","OptionSelector","defaultOption","options","ViewRequests","requests","request","requestid","seller","onView","SelectedRequest","branchOptions","setRequest","requestId","requestimg","onApprove","onRemove","AdminRequestsPage","fetchBranches","handleViewClick","selectedRequest","handleRemoveClick","updatedRequests","handleApproveClick","branchValue","alert","handleBranchChange","CreateBranch","handleCreateBranch","htmlFor","AdminNavBar","switch","AdminProductsPage","fetchBooks","bookOptions","isBookEnabled","handleBranchSelectOptions","bookValue","isBranchManaged","handleBookSelectOptions","handleSwitchBranchBook","handleBookDelete","updatedBooks","handleBranchDelete","updatedBranches","App","signedIn","setAutoLogout","milliseconds","setTimeout","localStorage","setItem","remainingMilliseconds","expiryDate","getTime","removeItem","getItem","fname","Provider","from","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca7148cf.chunk.js","sourcesContent":["import React from 'react'\n\n// Create a global context for managing authentication\nexport default React.createContext({\n    token:null,\n    userId:null,\n    firstname:\"\",\n    isAdmin:false,\n    login: (token, userId, tokenExpiration) => {},\n    logout: () => {}\n})","import React from 'react'\nimport { NavLink } from 'react-router-dom'\n\nimport './NavBar.css'\n\n\nfunction NavBar(props){\n\n    console.log('NAV PROPS')\n    console.log(props)\n\n\n    const signIn =  props.isSignedIn ? <button id=\"btn-logout\" onClick={props.logout}>Logout</button>    \n                :<li className=\"nav-item\">\n                         <NavLink exact to=\"/auth\" className=\"nav-link\">Log in</NavLink>\n                </li>\n\n\n    return (\n        <section id=\"nav-bar\">\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-dark\">\n                <a className=\"navbar-brand\" href=\"/\"><img src=\"/images/logo.jpg\" alt=\"logo\"/></a>\n                <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                    <span className=\"navbar-toggler-icon\"></span>\n                </button>\n                <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n                    <ul className=\"navbar-nav ml-auto\">\n                    <li className=\"nav-item\">\n                       <NavLink exact to=\"/\" className=\"nav-link\">Home</NavLink>\n                    </li>\n                    <li className=\"nav-item\">\n                         <NavLink exact to=\"/about\" className=\"nav-link\">About Us</NavLink>\n                    </li>\n                    <li className=\"nav-item\">\n                        {props.isAdmin? \n                         <NavLink exact to=\"/admin/products\" className=\"nav-link\">Products</NavLink> :\n                         <NavLink exact to=\"/buy\" className=\"nav-link\">Buy</NavLink>\n                        }  \n                    </li>\n                    <li className=\"nav-item\">\n                        {props.isAdmin ? \n                         <NavLink exact to=\"/admin/requests\" className=\"nav-link\">Requests</NavLink> :\n                         <NavLink exact to=\"/sell\" className=\"nav-link\">Sell</NavLink>\n                        }  \n                    </li>\n                    {/* {!props.isAdmin && <li className=\"nav-item\">\n                         <NavLink exact to=\"/cart\" className=\"nav-link\">My Cart</NavLink>\n                    </li>} */}\n                    {signIn}\n                    </ul>\n                </div>\n            </nav>\n        </section>  \n\n    )\n}\n\n\nexport default NavBar","import React from 'react'\n\n\nexport default function HomePage(){\n    return(\n\n          <div id=\"slider\">\n            <div id=\"headerslider\" className=\"carousel slide\" data-ride=\"carousel\" data-interval=\"1500\">\n                <ol className=\"carousel-indicators\">\n                    <li data-target=\"#headerslider\" data-slide-to=\"0\" className=\"active\"></li>\n                    <li data-target=\"#headerslider\" data-slide-to=\"1\"></li>\n                    <li data-target=\"#headerslider\" data-slide-to=\"2\"></li>\n                </ol>\n            <div className=\"carousel-inner\">\n                <div className=\"carousel-item active\">\n                <img src=\"images/third.jpg\" className=\"d-block w-100\" alt=\"third\"/>\n                    <div className=\"carousel-caption\">\n                        <h5>SEARCH YOUR FAVOURITE READ!</h5>\n                    </div>\n                </div>\n                <div className=\"carousel-item\">\n                <img src=\"images/first1.jpg\" className=\"d-block w-100\" alt=\"first\"/>\n                    <div className=\"carousel-caption\">\n                        <h5 style={{fontSize:50}}>ENTER A NEW WORLD</h5>\n                    </div>\n                </div>\n                <div className=\"carousel-item\">\n                <img src=\"images/sec.jpg\" className=\"d-block w-100\" alt=\"second\"/>\n                    <div className=\"carousel-caption\">\n                        <h5>SELL YOUR OLD BOOKS!</h5>\n                        </div>\n                </div>\n            </div>\n        <a className=\"carousel-control-prev\" href=\"#headerslider\" role=\"button\" data-slide=\"prev\">\n            <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n            <span className=\"sr-only\">Previous</span>\n        </a>\n        <a className=\"carousel-control-next\" href=\"#headerslider\" role=\"button\" data-slide=\"next\">\n            <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n            <span className=\"sr-only\">Next</span>\n        </a>\n        </div>\n    </div>\n    )\n}","import React from 'react'\n\n\nexport default function AboutPage(){\n    return(\n         <div className=\"container\">\n        <div className=\"row\">\n        <div className=\"col-md-6\">\n    <h2>About Us</h2>    \n    <div className=\"about-contents\">\n            \n        WordPress is software designed for everyone, emphasizing accessibility, performance, security, and ease of use. We believe great software should work with minimum set up, so you can focus on sharing your story, product, or services freely. The basic WordPress software is simple and predictable so you can easily get started. It also offers powerful features for growth and success.\n\n    We believe in democratizing publishing and the freedoms that come with open source. Supporting this idea is a large community of people collaborating on and contributing to this project. The WordPress community is welcoming and inclusive. Our contributorsâ€™ passion drives the success of WordPress which, in turn, helps you reach your goals.\n            </div>\n            <button type=\"button\" className=\"btn btn-primary\">Read more>>\n            </button>\n            \n            </div>    \n        <div className=\"col-md-6\"></div>    \n        </div>     \n    </div>\n\n          \n    )\n}","import React from 'react'\n\nimport './SignIn.css'\n\nclass SignIn extends React.Component{\n\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props){\n        super(props)\n        this.state = {\n            email: \"\",\n            password: \"\",\n            isAdmin:false\n        }\n    }\n\n\n    handleInput = (event) => {\n        \n        if(event.target.name === \"isAdmin\"){\n            return this.setState({\n                isAdmin: !this.state.isAdmin\n            })\n        }\n        this.setState({\n            [event.target.name] : event.target.value\n        })\n    }\n\n    handleLogin = async() => {\n\n        console.log(this.state)\n        console.log(this.props)\n        let url = process.env.REACT_APP_BASE_URL+'bookstore/auth/login/'\n\n        if(this.state.isAdmin)\n            url =process.env.REACT_APP_BASE_URL+'bookstore/admin/login/'\n\n      try{\n         const response = await fetch(url,{\n            method : 'POST',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify({\n                email:this.state.email,\n                password:this.state.password\n            })\n        })\n\n        const resData = await response.json()\n        \n        console.log(resData)\n        this.props.login(resData.token, resData.userid,1,resData.firstname,this.state.isAdmin)\n      }catch(err){\n          console.log(err)\n      }\n    }\n\n    render(){\n\n        return(\n\n            <div className=\"container h-100\">\n\t\t    <div className=\"d-flex justify-content-center h-100\">\n\t\t\t<div className=\"user_card\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<div className=\"brand_logo_container\">\n\t\t\t\t\t\t<img src=\"/images/logo.jpg\" className=\"brand_logo\" alt=\"Logo\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center form_container\">\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input type=\"text\" \n                                   name=\"email\" \n                                   onChange={this.handleInput} \n                                   className=\"form-control input_user\" \n                                   value={this.state.email} \n                                   placeholder=\"Email\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"input-group mb-2\">\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-key\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input type=\"password\" \n                                   name=\"password\" \n                                   onChange={this.handleInput} \n                                   className=\"form-control input_pass\" \n                                   value={this.state.password} \n                                   placeholder=\"Password\"/>\n\t\t\t\t\t\t</div>\n                        <div className=\"form-check\">\n                            <input type=\"checkbox\"\n                                    name=\"isAdmin\" \n                                    checked={this.state.isAdmin}\n                                    onChange={this.handleInput} \n                                    className=\"form-check-input\"/>\n                            <label className=\"form-check-label\">Admin</label>\n                        </div>        \n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\n\n\t\t\t\t<div className=\"d-flex justify-content-center mt-3 login_container\">\n\t\t\t\t\t<button type=\"button\" name=\"button\" className=\"btn login_btn\" onClick={this.handleLogin}>Login</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center links\">\n\t\t\t\t\t\tDon't have an account? <button className=\"ml-2\" onClick={this.props.handleSwitch}>Sign Up</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n        )\n    }\n}\n\n\nexport default SignIn","import React from 'react'\n\nimport './SignUp.css'\n\nclass SignUp extends React.Component{\n\n    // eslint-disable-next-line no-useless-constructor\n    constructor(props){\n        super(props)\n\n        this.state = {\n            \"firstname\" :\"\",\n            \"lastname\": \"\",\n            \"email\": \"\",\n            \"password\": \"\"\n        }\n    }\n\n\n\n    handleInput = (event) => {\n        this.setState({\n            [event.target.name] : event.target.value\n        })\n    }\n\n     handleSignUp = async() => {\n        \n        const response = await fetch(process.env.REACT_APP_BASE_URL+'bookstore/auth/signup',{\n            method : 'POST',\n            headers: {\n                'Content-Type':'application/json'\n            },\n            body: JSON.stringify({\n                ...this.state\n            })\n        })\n\n        const resData = await response.json()\n        console.log(resData)   \n        this.setState({\n            \"firstname\" :\"\",\n            \"lastname\": \"\",\n            \"email\": \"\",\n            \"password\": \"\"\n        })\n\n        this.props.handleSwitch()\n\n    }\n\n    render(){\n\n        return(\n\n            <div className=\"container h-100\">\n\t\t    <div className=\"d-flex justify-content-center  h-100\">\n\t\t\t<div className=\"user_card\">\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<div className=\"brand_logo_container\">\n\t\t\t\t\t\t<img src=\"/images/logo.jpg\" className=\"brand_logo\" alt=\"Logo\"/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center form_container\" >\n\t\t\t\t\t<form>\n                        <div className=\"input-group mb-3\" style={{marginTop: 10}}>\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input \n                                type=\"text\" \n                                name=\"firstname\" \n                                className=\"form-control input_user\" \n                                value={this.state.firstname} \n                                onChange={this.handleInput}\n                                placeholder=\"Firstname\"/>\n\t\t\t\t\t\t</div>\n                        <div className=\"input-group mb-3\">\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input \n                                type=\"text\" \n                                name=\"lastname\" \n                                className=\"form-control input_user\" \n                                value={this.state.lastname} \n                                onChange={this.handleInput}\n                                placeholder=\"Lastname\"/>\n\t\t\t\t\t\t</div>\n\n\n\t\t\t\t\t\t<div className=\"input-group mb-3\">\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-user\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input \n                                type=\"text\" \n                                name=\"email\" \n                                className=\"form-control input_user\" \n                                value={this.state.email} \n                                onChange={this.handleInput}\n                                placeholder=\"Email\"/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"input-group mb-2\">\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t<span className=\"input-group-text\"><i className=\"fas fa-key\"></i></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input type=\"password\"\n                                   name=\"password\" \n                                   className=\"form-control input_pass\" \n                                   onChange={this.handleInput}\n                                   value={this.state.password} \n                                   placeholder=\"Password\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"d-flex justify-content-center mt-3 login_container\">\n\t\t\t\t\t<button type=\"button\" name=\"button\" className=\"btn login_btn\" onClick={this.handleSignUp}>Sign Up</button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<div className=\"d-flex justify-content-center links\">\n\t\t\t\t\t\tAlready have an account? <button className=\"ml-2\" onClick={this.props.handleSwitch}>Log In</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n        )\n    }\n}\n\n\nexport default SignUp","import React from 'react'\nimport SignIn from '../components/SignIn/SignIn'\nimport SignUp from '../components/SignUp/SignUp'\nimport AuthContext from '../context/auth-context'\n\nclass AuthPage extends React.Component{\n\n    constructor(props){\n        super(props)\n        this.state = {\n            loginPage: true\n        }\n    }\n\n\n    static contextType = AuthContext\n\n    handleSwitch  = () => {\n        this.setState({\n            loginPage: !this.state.loginPage\n        })\n    }\n\n    render(){\n\n        return(\n            <div className=\"auth-container\">\n            {this.state.loginPage?\n                 <SignIn handleSwitch={this.handleSwitch} login={this.context.login}/> : <SignUp handleSwitch={this.handleSwitch}/>}\n            </div>\n        )\n    }\n}\n\n\nexport default AuthPage","import React from 'react'\n\n\nexport default function BranchBox(props){\n\n    return(\n         <div className =\"box\"\n              style={{backgroundColor: props.colour}} \n              onClick={ (e) => { props.onClick(e,props.id, props.branchName)}}>\n                <div className =\"icon\" style={{backgroundColor: props.colour}}>\n                    <i className={\"fa fa-\"+props.classes} aria-hidden=\"true\"></i>\n                </div>\n                <div className=\"content\">     \n                    <h3>{props.branchName}</h3>\n                    <p>{props.branchDetails}</p>\n                </div>\n        </div>\n    )    \n}","import React from 'react'\n\nimport './Branches.css'\nimport BranchBox from './BranchBox/BranchBox'\n\n\nexport default function Branches(props){\n\n    console.log(props.branches)\n\n    const branches = props.branches.map((branch,i) => {\n\n        return(\n         <BranchBox\n                key={branch.branchid}\n                id={branch.branchid}\n                classes={branch.classes}\n                branchName={branch.branchname}\n                branchDetails={branch.branchdetails}\n                colour={branch.colour}\n                onClick={props.onClick}\n            />)\n    })\n\n    return(\n        <div className=\"dabba\">\n            {branches}\n        </div> \n    )\n}","import React, { useState, useEffect } from 'react'\n\nimport './SelectedBook.css'\n\nexport default function SelectedBook(props) {\n  const [bookData, setBookData] = useState(null)\n  const [showChat, setShowChat] = useState(false)\n  //const [isAddedToCart , setIsAddedToCart] = useState(!bookData ? false : bookData.inCart)\n\n  // const buttonText =\n  //   (bookData && (bookData.inCart ? 'Cancel' : 'Add to Cart')) || ' '\n\n  useEffect(() => {\n    console.log('Called', props)\n    // Api\n    if (bookData) return\n\n    const authHeader = 'bearer ' + props.context.token\n    fetch(\n      process.env.REACT_APP_BASE_URL +\n        'bookstore/buybook/bookdetails/' +\n        props.book.bookid,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: authHeader,\n        },\n      }\n    )\n      .then((response) => response.json())\n      .then((resData) => {\n        console.log('--BuyBook : SelectedBook ', resData)\n        setBookData(resData)\n      })\n  })\n\n  const bookimg = process.env.REACT_APP_BASE_URL + 'images/' + props.book.image\n  let buttonText =\n    (bookData &&\n      (props.context.userId === bookData.sellerid\n        ? 'Messages'\n        : 'Contact Seller')) ||\n    ''\n  if(showChat)\n      buttonText = 'Close Chat'\n\n  return !bookData ? null : (\n    <React.Fragment>\n      <div className='requests-selected' style={{ marginTop: '20px' }}>\n        <div className='card' style={{ width: '18rem' }}>\n          <img className='card-img-top' src={bookimg} alt='Cardcap' />\n          <div className='card-body'>\n            <h5 className='card-title'>{bookData.title}</h5>\n          </div>\n        </div>\n        <div className='req-book-details' style={{ marginLeft: '20px' }}>\n          <span>ISBN : {bookData.isbn} </span>\n          <span>Author:{bookData.author}</span>\n          <span>Price: {bookData.price}</span>\n          <br></br>\n          <span>Description</span>\n          <p className='text-justify'>{bookData.description}</p>\n        </div>\n        <div className='control-btns'>\n          <button onClick={props.onBack}>Back</button>\n          <button\n            onClick={() => {\n              if (!showChat) {\n                setShowChat(true)\n                return props.onContact(bookData.sellerid)\n              }\n              setShowChat(false)\n              props.onContact(null)\n            }}\n          >\n            {buttonText}\n          </button>\n\n          {/* <button onClick={() => {\n                                         const inCart = !bookData.inCart;\n                                         setBookData({\n                                             ...bookData,\n                                             inCart: inCart\n                                         });\n                                         props.onCart(inCart,props.book.bookid) }}>{buttonText}</button>    */}\n        </div>\n      </div>\n    </React.Fragment>\n  )\n}\n\n/**\n * \n * \n *   <div className=\"selected-book\">\n                <div className=\"des\">\n             <img src={props.book.image} alt=\"description\"/>\n            <p>{bookData.description}</p>\n        </div>\n        <div className=\"book-details-btn\">\n                <button onClick={props.onBack}>Back</button>\n                <button onClick={() => {\n                                         const inCart = !bookData.inCart;\n                                         setBookData({\n                                             ...bookData,\n                                             inCart: inCart\n                                         });\n                                         props.onCart(inCart,props.book.bookid) }}>{buttonText}</button>\n        </div>\n        <div className=\"book-details\">\n                <span>ISBN: {bookData.isbn} </span>\n                <span>Author: {bookData.author}</span>\n                <span>Price: {bookData.price}</span> \n        </div>   \n        </div>\n */\n","import React, { useContext, useEffect, useState } from 'react'\nimport io from 'socket.io-client'\nimport ScrollToBottom from 'react-scroll-to-bottom'\n\nimport AuthContext from '../../../context/auth-context'\n\nimport './ChatBox.css'\n\nconst ChatBoxList = ({ bookid, sellerid, onClick }) => {\n  const context = useContext(AuthContext)\n  const [chatUsers, setChatUsers] = useState([])\n\n  useEffect(() => {\n    const authHeader = 'bearer ' + context.token\n    fetch(process.env.REACT_APP_BASE_URL + 'bookstore/chat/users', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: authHeader,\n      },\n      body: JSON.stringify({\n        bookid,\n        sellerid,\n      }),\n    })\n      .then((response) => response.json())\n      .then((resData) => {\n        console.log(resData)\n        setChatUsers(resData)\n      })\n  }, [])\n\n  const chatUserList = chatUsers.map((cu) => {\n    console.log(cu)\n    return (\n      <ChatBoxItem onClick={onClick} key={cu.userid} chatUser={{ ...cu }} />\n    )\n  })\n\n  return <ul className='list-group list-group-flush'>{chatUserList}</ul>\n}\n\nconst ChatBoxItem = ({ chatUser: { userid, name }, onClick }) => {\n  console.log(name)\n  return (\n    <li\n      className='list-group-item'\n      style={{ cursor: 'pointer' }}\n      onClick={() => onClick(userid)}\n    >\n      <h6 style={{ pointerEvents: 'none' }} className='mb-0'>\n        {name}\n      </h6>\n      <p style={{ lineHeight: 1 }} className='mb-0'>\n        <small></small>\n      </p>\n    </li>\n  )\n}\n\n// --------------------------- //\n\nconst ChatItem = ({ own, message, time }) => {\n  const style = {\n    marginLeft: 'auto',\n    backgroundColor: '#00a9de',\n    color: '#fff',\n  }\n  return (\n    <div className='chat-message' style={own ? style : {}}>\n      <div className='date'>{new Date(time).toLocaleString()}</div>\n      <div style={{ maxWidth: '500px' }}>{message}</div>\n    </div>\n  )\n}\n\nlet socket\nconst ChatWindow = ({ bookid, sellerid, userid, setHeading }) => {\n  const context = useContext(AuthContext)\n  const inputRef = React.createRef('')\n\n  const [messages, setMessages] = useState([])\n  console.log(messages)\n\n  useEffect(() => {\n    const authHeader = 'bearer ' + context.token\n    fetch(process.env.REACT_APP_BASE_URL + 'bookstore/chat/messages', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: authHeader,\n      },\n      body: JSON.stringify({\n        bookid,\n        sellerid,\n        userid,\n      }),\n    })\n      .then((response) => response.json())\n      .then((resData) => {\n        console.log(resData)\n        setMessages(resData.chats)\n        setHeading(resData.name)\n      })\n  }, [])\n\n  useEffect(() => {\n\n    let fromto = context.userId\n    fromto = fromto + ((context.userId === sellerid ) ? userid : sellerid)\n    console.log(sellerid)\n    console.log(fromto)\n    console.log(userid)\n    console.log(context.userId)\n\n    socket = io(process.env.REACT_APP_BASE_URL)\n    socket.emit('hello', { fromto }, (s) => {\n      console.log(s)\n    })\n    return () => {\n      socket.disconnect()\n      socket.off()\n    }\n  }, [context.userId])\n\n  useEffect(() => {\n    socket.on('recieveMessage', ({ chat }) => {\n      console.log('recieveMessage: ')\n      console.log(chat)\n      setMessages([...messages, chat])\n    })\n  }, [messages])\n\n  // display list of messages\n  const chatItems = messages.map(({ sentby, message, timestamp }) => {\n    return (\n      <ChatItem\n        key={timestamp}\n        message={message}\n        own={sentby === context.userId ? true : false}\n        time={timestamp}\n      />\n    )\n  })\n\n  const handleSend = () => {\n    console.log(inputRef.current.value)\n    const m = inputRef.current.value\n    const sentby = context.userId\n    inputRef.current.value = ''\n    socket.emit(\n      'sendMessage',\n      { bookid, sellerid, userid, message: m, sentby },\n      ({ chat, error }) => {\n        console.log(chat)\n        if (chat) {\n          setMessages([...messages, chat])\n        }\n      }\n    )\n  }\n\n  return (\n    <div>\n      <ScrollToBottom debug={false} className='chat-box'>{chatItems}</ScrollToBottom>\n      {/* <ul\n        className='list-group scroll'\n        style={{\n          height: '500px',\n          overflow: 'hidden',\n          overflowY: 'scroll',\n          padding: '1rem',\n        }}\n      >\n        {chatItems}\n      </ul> */}\n      <div\n        className='input-group m-auto'\n        style={{ position: 'sticky', bottom: 0 }}\n      >\n        <input\n          ref={inputRef}\n          type='text'\n          className='form-control'\n          placeholder='Type a message..'\n        />\n        <div className='input-group-append'>\n          <button\n            onClick={handleSend}\n            className='btn btn-outline-primary'\n            type='button'\n          >\n            Send\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst ChatBox = ({ userid, sellerid, bookid }) => {\n  const [toUser, setToUser] = useState(userid)\n  const [heading, setHeading] = useState('Messages')\n\n  const childComponent =\n    toUser !== sellerid ? (\n      <ChatWindow\n        bookid={bookid}\n        userid={toUser}\n        sellerid={sellerid}\n        setHeading={setHeading}\n      />\n    ) : (\n      <ChatBoxList\n        onClick={(id) => setToUser(id)}\n        bookid={bookid}\n        sellerid={sellerid}\n      />\n    )\n\n  return (\n    <div className='card mt-2 '>\n      <div className='card-header'>\n        {heading}{' '}\n        {userid === sellerid && heading !== 'Messages' && (\n          <span>\n            <button\n              onClick={() => {\n                setToUser(sellerid)\n                setHeading('Messages')\n              }}\n            >\n              X\n            </button>\n          </span>\n        )}\n      </div>\n      {childComponent}\n    </div>\n  )\n}\n\nexport default ChatBox\n","import React from 'react'\nimport SelectedBook from '../SelectedBook/SelectedBook'\nimport ChatBox from '../ChatBox/ChatBox'\nimport AuthContext from '../../../context/auth-context'\nimport './Books.css'\n\nclass Books extends React.Component {\n  constructor(props) {\n    super(props)\n\n    console.log('Books', props)\n\n    this.state = {\n      booklist: [],\n      selectedBook: null,\n      showChat: false,\n    }\n  }\n\n  static contextType = AuthContext\n\n  componentDidMount() {\n    //API call\n    const branchId = this.props.bookCategory.branchId\n    // const authHeader =\n    //   'bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6ImRAbSIsInVzZXJJZCI6InVzZXItbml0dHQ2Zm5rZjFmN2VxZSIsImlhdCI6MTYxMTQzMTM3MywiZXhwIjoxNjExNDM0OTczfQ.7In-dhYnNXHW0TIEtA2wMWCKrLl8rk8RTeSIGf-Pod8'\n\n    console.log(this.context.token)\n    const authHeader = 'bearer ' + this.context.token\n\n    fetch(\n      process.env.REACT_APP_BASE_URL + 'bookstore/buybook/books/' + branchId,\n      {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: authHeader,\n        },\n      }\n    )\n      .then((response) => response.json())\n      .then((resData) => {\n        console.log('--BuyBook : Books ', resData)\n        this.setState({\n          booklist: resData,\n        })\n      })\n  }\n\n  handleBookSelection = (bookid) => {\n    console.log(bookid)\n    const selectedBook = this.state.booklist.filter((book) => {\n      return book.bookid === bookid\n    })\n    this.setState({\n      selectedBook: selectedBook[0],\n    })\n  }\n\n  handleBack = () => {\n    this.setState({\n      selectedBook: null,\n      showChat: false,\n      sellerid: null,\n    })\n  }\n\n  handleContact = (sId) => {\n    if (sId) {\n      return this.setState({\n        showChat: true,\n        sellerid: sId,\n      })\n    }\n    this.setState({\n      showChat: false,\n      sellerid: null,\n    })\n  }\n\n  handleAddToCart = (isAdded, bookid) => {\n    //API to add to cart\n    console.log(bookid, isAdded)\n\n    const requestBody = {\n      userid: this.context.userId,\n      bookid: bookid,\n    }\n\n    console.log(requestBody)\n\n    const method = isAdded ? 'POST' : 'DELETE'\n\n    console.log(method)\n\n    const authHeader = 'bearer ' + this.context.token\n    fetch(process.env.REACT_APP_BASE_URL + 'bookstore/cart/', {\n      method: method,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: authHeader,\n      },\n      body: JSON.stringify(requestBody),\n    })\n      .then((response) => response.json())\n      .then((resData) => {\n        console.log('--Cart : ', resData)\n      })\n  }\n\n  render() {\n    const booklist = this.state.booklist.map((book) => {\n      const bookimg = process.env.REACT_APP_BASE_URL + 'images/' + book.image\n\n      return (\n        <div className='book-container' key={book.bookid}>\n          <button\n            className='book-btn'\n            onClick={this.handleBookSelection.bind(this, book.bookid)}\n          >\n            <img className='book-img' src={bookimg} alt='book' />\n          </button>\n          <p>{book.title}</p>\n        </div>\n      )\n    })\n\n    return !this.state.selectedBook ? (\n      <React.Fragment>\n        <div\n          className='container d-flex w-50'\n          style={{ marginBottom: '10px', marginTop: '20px' }}\n        >\n          <p className='p-2 w-100 bd-highlight' style={{ margin: 0 }}>\n            {this.props.bookCategory.branchName}\n          </p>\n          <button\n            className='p-2 flex-shrink-1 bd-highlight btn btn-primary'\n            onClick={this.props.onBack}\n          >\n            Back\n          </button>\n        </div>\n        <div className='container d-flex flex-wrap justify-content-between'>\n          {booklist}\n        </div>\n      </React.Fragment>\n    ) : (\n      <div className='row m-auto'>\n        <div className='col'>\n          <SelectedBook\n            book={this.state.selectedBook}\n            onBack={this.handleBack}\n            onCart={this.handleAddToCart}\n            onContact={this.handleContact}\n            context={this.context}\n          />\n        </div>\n        {this.state.showChat ? (\n          <div className='col'>\n            <ChatBox\n              bookid={this.state.selectedBook.bookid}\n              userid={this.context.userId}\n              sellerid={this.state.sellerid}\n            />\n          </div>\n        ) : null}\n      </div>\n    )\n  }\n}\n\nexport default Books\n\n/***\n * [{image: \"android_studio.jpg\", isbn:1111}, \n            {image: \"android_studio.jpg\", isbn:1112}, \n            {image: \"android_studio.jpg\", isbn:1113}, \n            {image: \"android_studio.jpg\", isbn:1114}, \n            ]\n */\n","import React from 'react'\nimport Branches from '../components/BuyBook/Branches/Branches'\nimport Books from '../components/BuyBook/Books/Books'\nimport AuthContext  from '../context/auth-context'\n\n\nclass BuyBookPage extends React.Component{\n\n    constructor(props){\n        super(props)\n\n        this.branches = []\n\n        this.state = {\n            isBranchSelected : false,\n            bookCategory: null,\n            branches : []\n        }\n\n    }\n\n    static contextType = AuthContext\n\n\n    componentDidMount(){\n\n        const authHeader = \"bearer \"+this.context.token\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/buybook/branches',{\n            method:\"GET\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization': authHeader\n            }\n        })\n        .then( response => response.json())\n        .then( resData => {\n            console.log('--BuyBook : Branches ',resData)\n            this.setState({\n                branches : resData\n            })\n        })\n    }\n\n\n\n    handleBranchClick = (event, id, bookCategoryName) => {\n        console.log(id)\n        this.setState({\n            isBranchSelected: true,\n            bookCategory: {\n                branchName:bookCategoryName,\n                branchId:id\n            }\n        })\n    }\n\n\n    handleBackClick = () => {\n\n        this.setState({\n             isBranchSelected : false,\n             bookCategory: null\n        })\n\n\n    }\n\n    render(){\n         return (\n            <React.Fragment>\n                {!this.state.isBranchSelected ? <Branches onClick={this.handleBranchClick} branches={this.state.branches}/> : null}\n                {this.state.isBranchSelected ? <Books onBack={this.handleBackClick} bookCategory={this.state.bookCategory} branch/>: null} \n            </React.Fragment>\n          )\n    }\n}\n\nexport default BuyBookPage\n\n\n/**\n * \n *  {\n                classes: \"laptop\",\n                branchName:\"Computer Science\",\n                branchDetails:\"Something good\",\n                color:\"#f54967\",\n                branchid:0\n            },\n            {\n                classes: \"wrench\",\n                branchName:\"Mechanical\",\n                branchDetails:\"Something good\",\n                color:\"#319635\",\n                branchid:1\n            },\n            {\n                classes: \"building\",\n                branchName:\"Civil\",\n                branchDetails:\"Something good\",\n                color:\"#23798e\",\n                id:2\n            }\n */","import React from 'react'\n\n\nexport default function CartItem(props){\n\n    return(\n        <div className=\"cart-item\">\n            <p>{props.data.title}</p>\n            <span>Rs. {props.data.price}</span>\n            <button onClick={props.deleteItem.bind(this,props.data.bookid)}>Remove</button>\n        </div>\n    )\n}","import React from 'react'\n\nfunction OrderPlaced(){\n    return(\n        <div className=\"order-placed\">\n            <p>Order Placed</p>\n        </div>\n    )\n}\n\n\n\nclass Checkout extends React.Component{\n\n    state = {\n        name: \"\",\n        phone:\"\",\n        address:\"\",\n        orderPlaced:false\n    }\n\n\n    handleInput = (event) =>{ \n        this.setState({\n            [event.target.name]:event.target.value\n        })\n    }\n\n    handlePlaceOrder = () => {\n        //API Save the order\n        console.log(this.state)\n        this.setState({\n            orderPlaced: true\n        })\n    }\n\n    render(){\n        return (\n            this.state.orderPlaced ? <OrderPlaced/> :  \n            <div className=\"checkout-container\">\n                <div className=\"checkout-input\">\n                    <label>Name</label>\n                    <input type=\"text\" placeholder=\"Name\" name=\"name\"  onChange={this.handleInput} value={this.state.name}></input>\n                </div>\n                <div className=\"checkout-input\">\n                    <label>Phone</label>\n                    <input type=\"text\" placeholder=\"Phone Number\" name=\"phone\" onChange={this.handleInput} value={this.state.phone}></input>\n                </div>\n                <div className=\"checkout-input\">\n                    <label>Address</label>\n                    <input type=\"text\" placeholder=\"Address\" name=\"address\" onChange={this.handleInput} value={this.state.address}></input>\n                </div>\n                <button className=\"btn-primary btn\" onClick={this.handlePlaceOrder}>Place Order</button>\n            </div>\n        )      \n    }\n}\n\n\nexport default Checkout\n","import React from 'react'\nimport '../components/MyCart/MyCart.css'\nimport CartItem from '../components/MyCart/CartItem'\nimport Checkout from '../components/MyCart/Checkout';\nimport AuthContext from '../context/auth-context'\n\nfunction Cart(props){\n\n    let cost = 0;\n    const cartItems = props.cartItems.map((item,i) => {\n        cost = cost+ item.price\n        return <CartItem key={item.cartid} deleteItem={props.deleteItem} data={item}/>\n    })\n\n    return (\n            <div className=\"cart-page\">\n                <div className=\"cart-items\">\n                    {cartItems}\n                </div>\n                <div className=\"order\">\n                    <h1>Order</h1>\n                    <span>Total Price</span>\n                    <span>Rs. {cost} </span>\n                    <button onClick={props.onCheckout}>Proceed to Checkout</button>\n                </div>\n            </div>\n    )\n}\n\n\n\n\nclass MyCartPage extends React.Component{\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            hasItems: false,\n            isCheckout:false,\n            cartItems: [],\n        }\n    }\n\n    static contextType = AuthContext\n\n    componentDidMount(){\n\n        //FETCH Cart Item\n        const authHeader = \"bearer \"+this.context.token\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/cart/',{\n            method:\"GET\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization': authHeader\n            }\n        })\n        .then( response => response.json())\n        .then( resData => {\n            console.log('--Cart : ',resData)\n            let hasItems = resData.length > 0 ? true : false\n            this.setState({\n                hasItems:hasItems,\n                cartItems:resData\n            })\n        }) \n\n    }\n\n\n    handleCheckout = () => {\n        this.setState({\n            isCheckout:true\n        })\n    }\n\n\n    handleDeleteItem = (bookid) => {\n\n        // Delete the particular number\n        const authHeader = \"bearer \"+this.context.token\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/cart/',{\n            method:\"DELETE\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization': authHeader\n            },\n            body : JSON.stringify({userid:this.context.userId, bookid:bookid})\n        })\n        .then( response => response.json())\n        .then( resData => {\n            console.log('--Cart : ',resData)\n            const updatedCart = this.state.cartItems.filter(item => {\n                return item.bookid !== bookid\n            })\n            this.setState({\n                cartItems:updatedCart,\n                hasItems: updatedCart.length > 0 ? true:false\n            })\n        })\n    }\n\n\n\n    render(){\n        return (\n\n            this.state.isCheckout ? <Checkout/> : \n            this.state.hasItems ? \n                <Cart cartItems={this.state.cartItems} \n                      onCheckout={this.handleCheckout}\n                      deleteItem={this.handleDeleteItem}\n                      /> : <h1> Sorry </h1>          \n        )\n    }    \n}\n\n\nexport default MyCartPage","import React from 'react'\nimport AuthContext from '../context/auth-context'\n\n\nclass SellPage extends React.Component {\n\n    constructor(props){\n        super(props)\n\n        console.log(this.props)\n        this.state = {\n            title:\"\",\n            description:\"\",\n            isbn:\"\",\n            author:\"\",\n            price:0,\n            image:\"\",\n            imageValue:\"\"\n        }\n    }\n\n\n    static contextType = AuthContext\n\n\n    handleSellBook = () => {\n\n        const formData = new FormData()\n        formData.append('title',this.state.title)\n        formData.append('description',this.state.description)\n        formData.append('isbn',this.state.isbn)\n        formData.append('author',this.state.author)\n        formData.append('price',this.state.price)\n        formData.append('image',this.state.image)\n        formData.append('sellerid',this.context.userId)\n        \n        if(this.props.branchid)\n            formData.append('branchid',this.props.branchid)\n        // else\n        //     formData.append('sellerid',this.context.userId)\n            \n        //Send the formData to server\n        fetch(this.props.url,{\n            method:\"POST\",\n            headers:{\n                'Authorization':'bearer '+this.context.token\n            },\n            body:formData\n        }).then((response) => response.json())\n        .then(resData => {\n            console.log(resData)\n            this.setState({\n                title:\"\",\n                description:\"\",\n                isbn:\"\",\n                author:\"\",\n                price:0,\n                image:null,\n                imageValue:\"\"\n            })\n            \n            if(this.props.reflect)\n                this.props.reflect()\n        }).catch(err => {\n            console.log(err)\n        })\n    }\n\n\n    handleInputChange = (event) => {\n\n\n\n        if(event.target.files){\n            this.setState({\n                image: event.target.files[0],\n                imageValue:event.target.value\n            })\n            return\n        }\n\n        this.setState({\n            [event.target.name] : event.target.value\n        })\n\n    }\n\n\n    render(){\n        return(\n            <div className=\"container w-50\" style={{marginTop:\"3rem\"}}>\n                <form>\n                    <div className=\"form-group\">\n                        <label style={{margin:0}}>Title</label>\n                        <input type=\"text\"\n                               className=\"form-control\" \n                               placeholder=\"Title\" \n                               onChange={this.handleInputChange}\n                               value={this.state.title}\n                               name=\"title\"\n                               />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label style={{margin:0}}>Description</label>\n                        <input type=\"text\" \n                               className=\"form-control\" \n                               placeholder=\"Description\"\n                               onChange={this.handleInputChange}\n                               value={this.state.description}\n                               name=\"description\"\n                               />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label style={{margin:0}}>ISBN number</label>\n                        <input type=\"text\" \n                                className=\"form-control\" \n                                placeholder=\"ISBN number\"\n                                onChange={this.handleInputChange}\n                               value={this.state.isbn}\n                               name=\"isbn\"\n                                />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label style={{margin:0}}>Author</label>\n                        <input type=\"text\"\n                               className=\"form-control\" \n                               placeholder=\"Author\"\n                               onChange={this.handleInputChange}\n                               value={this.state.author}\n                               name=\"author\"\n                               />\n                    </div>\n\n                     <div className=\"form-group\">\n                        <label style={{margin:0}}>Price</label>\n                        <div className=\"input-group\">\n                            <div className=\"input-group-prepend\">\n                                <div className=\"input-group-text\">Rs.</div>\n                            </div>\n                            <input type=\"text\" \n                                    className=\"form-control\" \n                                    placeholder=\"Price\"\n                                    onChange={this.handleInputChange}\n                                    value={this.state.price}\n                                    name=\"price\"\n                                    />\n                        </div>\n                    </div>\n                    <div className=\"form-group\">\n                        <label style={{margin:0}}>Image</label>\n                        <input type=\"file\" className=\"form-control-file\" \n                            name=\"image\" onChange={this.handleInputChange} value={this.state.imageValue}/>\n                    </div>\n                    <button type=\"button\" onClick={this.handleSellBook} className=\"btn btn-primary btn-lg float-right\">{this.props.btnText}</button>\n                </form>\n            </div>\n        )\n    }\n}\n\n\nexport default SellPage","import React from 'react'\n\nfunction OptionSelector(props){\n    return(\n             <React.Fragment>\n               <div  className=\"container w-50 d-flex\">\n                    <select value={props.value} onChange={props.onChange} className=\"form-control form-control-lg\">\n                        <option value=\"default\">{props.defaultOption}</option>\n                        {props.options}\n                    </select>\n                {props.btnText && <button  onClick={props.onClick} className=\"btn btn-primary\" style={{width:100}}>{props.btnText}</button>}\n               </div>\n                {/*<div style={{display:\"block\", border:\"0.5px solid black\",width:\"90\"}}></div>*/}\n            </React.Fragment>\n    )\n}\n\nexport default OptionSelector","import React, { useState , useEffect} from 'react'\nimport AuthContext from '../context/auth-context'\nimport OptionSelector from '../components/AdminProducts/OptionSelector'\n\n\nfunction ViewRequests(props){\n\n   \n    const requests = props.requests.map((request,i)=>{\n        return (\n            <div key={request.requestid} className=\"request-box\">\n                    <h2>{request.title}</h2>\n                    <p>{request.seller}</p>\n                    <button onClick={props.onView.bind(this,request.requestid, request.seller)}>View</button>\n            </div>\n        )\n    } )\n\n    return(\n        <div className=\"container w-50\">\n              {requests}\n            </div>\n        )\n}\n\n\n\nfunction SelectedRequest(props){\n\n        console.log(props)\n\n      const branchOptions = props.options.map((branch)=>{\n            return <option key={branch.branchid} value={branch.branchid}>{branch.branchname}</option>\n        })\n\n     const [request, setRequest] = useState({})\n\n     useEffect(() => {\n\n        if(request.requestid)\n            return\n\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/admin/requests/'+props.requestId,{\n            method:\"GET\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization':'bearer '+props.context.token\n            }\n        })\n        .then(response => response.json())\n        .then(resData => {\n            console.log(resData)\n            setRequest(resData)\n        })\n    })\n\n    const requestimg = process.env.REACT_APP_BASE_URL+'images/'+request.image\n\n    return(\n        <div className=\"container\" style={{marginTop:\"20px\"}}>\n            <OptionSelector defaultOption=\"Select a branch\"\n                            options={branchOptions}\n                            value={props.value}\n                            onChange={props.onChange}    \n                            />\n            <div className=\"requests-selected\">\n                <div className=\"card\" style={{width:\"18rem\"}}>\n                    <img className=\"card-img-top\" src={requestimg} alt=\"Cardcap\"/>\n                    <div className=\"card-body\">\n                        <h5 className=\"card-title\">{request.title}</h5>\n                        </div>\n                </div>\n                 <div className=\"req-book-details\">\n                        <span>ISBN : {request.isbn} </span>\n                        <span>Author:{request.author}</span>\n                        <span>Price: {request.price}</span> \n                        <span>Seller: {props.seller}</span>\n                        <br></br>\n                        <span>Description</span>\n                        <p className=\"text-justify\">{request.description}</p>\n                </div>\n                 <div className=\"control-btns\">\n                    <button onClick={props.onBack}>Back</button>\n                    <button onClick={() => props.onApprove(request.requestid)}>Approve</button>\n                    <button onClick={() => props.onRemove(request.requestid)}>Remove</button>\n                </div> \n            </div>   \n        </div>  \n    )\n}\n\n\nclass AdminRequestsPage extends React.Component{\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            selectedRequest: null,\n            requests:[],\n            seller:\"\",\n            branchOptions:[],\n            branchValue:\"default\"\n        }\n    }\n\n\n    static contextType = AuthContext\n\n    componentDidMount(){\n\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/admin/requests',{\n            method:\"GET\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization':'bearer '+this.context.token\n            }\n        })\n        .then(response => response.json())\n        .then(resData => {\n            console.log(resData)\n            this.fetchBranches(resData)\n            //this.setState({\n              //  requests:resData\n            //})    \n        })\n        .catch(err => console.log(err))\n    }\n\n\n\n    fetchBranches = (requests) => {\n\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/buybook/branches',{\n            method:\"GET\",\n            headers:{\n                'Authorization': 'bearer '+this.context.token\n            }\n        })\n        .then(response => response.json())\n        .then(resData => {\n            console.log(resData)\n            const branchOptions = resData.map((branch) => {\n                return{\n                    branchid :branch.branchid,\n                    branchname:branch.branchname\n                }\n            })\n            this.setState({\n                branchOptions:branchOptions,\n                requests:requests\n            })\n        })\n    }\n\n\n\n    handleViewClick = (requestid, seller) => {\n            //APi\n        console.log(requestid,seller)\n        this.setState({\n            selectedRequest:requestid,\n            seller:seller\n        })\n    }\n\n    handleBackClick = () => {\n        this.setState({\n            selectedRequest :null,\n            seller:\"\"\n        })\n    }\n\n\n\n\n\n    handleRemoveClick = (requestid) => {\n\n        console.log(requestid)\n\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/admin/requests/decline/'+requestid, {\n            method:\"DELETE\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization':'bearer '+this.context.token\n            }\n        }).then(response => response.json())\n        .then(resData => {\n            const updatedRequests = this.state.requests.filter((request)=>{\n                return request.requestid !== requestid\n            })\n            this.setState({\n                requests:updatedRequests,\n                 selectedRequest :null,\n                 seller:\"\"\n            })\n        }).catch(err => {\n            console.log(err)\n        })\n    }\n\n\n\n\n    handleApproveClick = (requestid) => {\n\n        if(this.state.branchValue === \"default\")\n            return alert('Select Any Branch')\n\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/admin/requests/approve', {\n            method:\"POST\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization':'bearer '+this.context.token\n            },\n            body:JSON.stringify({\n                requestid:requestid,\n                branchid:this.state.branchValue\n            })\n        }).then(response => response.json())\n        .then(resData => {\n\n            const updatedRequests = this.state.requests.filter((request)=>{\n                return request.requestid !== requestid\n            })\n            this.setState({\n                requests:updatedRequests,\n                 selectedRequest :null,\n                 seller:\"\",\n                 branchValue:\"default\"\n            })\n        }).catch(err => {\n            console.log(err)\n        })\n    }\n\n\n    handleBranchChange = (event) => {\n        console.log(event.target.value)\n        this.setState({\n            branchValue: event.target.value\n        })\n    }\n\n\n\n\n    render(){\n        return(\n           this.state.selectedRequest ? \n                <SelectedRequest seller={this.state.seller}\n                                 context={this.context}\n                                 requestId={this.state.selectedRequest}\n                                 onBack={this.handleBackClick}\n                                 onApprove={this.handleApproveClick}\n                                 onRemove={this.handleRemoveClick}\n                                 onChange={this.handleBranchChange}\n                                 options={this.state.branchOptions}\n                                 value={this.state.branchValue}/> : \n                <ViewRequests onView={this.handleViewClick} requests={this.state.requests}/>\n        )        \n    }\n}\n\n\n\n\n\nexport default AdminRequestsPage","import React from 'react'\nimport AuthContext from '../../context/auth-context'\n\nclass CreateBranch extends React.Component{\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            branchname:\"\",\n            branchdetails:\"\",\n            classes:\"\",\n            colour:\"\"\n        }\n    }\n\n    static contextType = AuthContext\n\n    handleInput = (event) => {\n        this.setState({\n            [event.target.name]:event.target.value\n        })\n    }\n\n\n    handleCreateBranch = (event) => {\n        console.log(this.state)\n\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/admin/branch',{\n            method:\"POST\",\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization':'bearer '+this.context.token\n            },\n            body: JSON.stringify({\n               ...this.state\n            })\n        })\n        .then(response => response.json())\n        .then(resData => {\n            console.log(resData)\n\n            this.props.reflect()\n            \n            this.setState({\n                branchname:\"\",\n                branchdetails:\"\",\n                classes:\"\",\n                colour:\"\" \n            })\n            \n        }).catch(err => {\n            console.log(err)\n        }) \n    }\n\n    render(){\n\n        return (\n            <form style={{marginTop:\"3rem\"}} className=\"w-50 container\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"branchName\">Branch Name</label>\n                    <input type=\"text\" \n                           className=\"form-control\" \n                           placeholder=\"Branch Name\"\n                           name=\"branchname\"\n                           onChange={this.handleInput}\n                           value={this.state.branchname}/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"branchDetails\">Branch Description</label>\n                    <input type=\"text\" \n                           className=\"form-control\" \n                           placeholder=\"Branch Description\"\n                           name=\"branchdetails\"\n                           onChange={this.handleInput}\n                           value={this.state.branchdetails}/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"branchColour\">Colour</label>\n                    <input type=\"text\" \n                           className=\"form-control\" \n                           placeholder=\"Colour\"\n                           name=\"colour\"\n                           onChange={this.handleInput}\n                           value={this.state.colour}\n                           />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"branchIcon\">Icon</label>\n                    <input type=\"text\" \n                        className=\"form-control\" \n                        placeholder=\"Icon\"\n                        name=\"classes\"\n                        onChange={this.handleInput}\n                        value={this.state.classes}/>\n                </div>\n                <button type=\"button\" className=\"btn btn-lg btn-primary float-right\" onClick={this.handleCreateBranch}>Create Branch</button>\n            </form>\n        )\n    }\n}\n\n\nexport default CreateBranch\n\n\n/**\n * \n *  branchdetails:this.state.branchdetails,\n                branchname:this.state.branchname,\n                colour:this.state.colour,\n                classes:this.state.classes\n */","import React from 'react'\nimport CreateBranch from '../components/AdminProducts/CreateBranch'\nimport OptionSelector from '../components/AdminProducts/OptionSelector'\nimport AddBook from './SellPage'\nimport AuthContext from '../context/auth-context'\n\n\nfunction AdminNavBar(props){\n     return (\n    <React.Fragment>\n        <nav className=\"navbar navbar-light bg-dark\">\n                <button \n                    name=\"branch\"\n                    className=\"btn btn-outline-success\" \n                    style={{marginBottom:\"4px\"}} \n                    type=\"button\"\n                    onClick={props.switch}>Manage Branches</button>\n                <button \n                    name=\"books\"\n                    className=\"btn btn-outline-success\" \n                    style={{marginBottom:\"4px\"}} \n                    type=\"button\"\n                    onClick={props.switch}>Manage Books</button>\n        </nav>\n    </React.Fragment>\n    )\n}\n\n\n\n\n\n\n\nclass AdminProductsPage extends React.Component{\n\n\n    constructor(props){\n        super(props)\n\n        this.state = {\n            isBranchManaged : true,\n            branchValue:\"default\",\n            bookValue:\"default\",\n            bookOptions:[],\n            branchOptions:[],\n            isBookEnabled:false\n        }\n    }\n\n    static contextType = AuthContext\n\n    componentDidMount(){\n        this.fetchBranches()\n    }\n\n\n    fetchBranches = () => {\n\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/buybook/branches',{\n            method:\"GET\",\n            headers:{\n                'Authorization': 'bearer '+this.context.token\n            }\n        })\n        .then(response => response.json())\n        .then(resData => {\n            console.log(resData)\n            const branchOptions = resData.map((branch) => {\n                return{\n                    branchid :branch.branchid,\n                    branchname:branch.branchname\n                }\n            })\n            this.setState({\n                branchOptions:branchOptions\n            })\n        })\n\n    }\n\n\n\n\n\n    fetchBooks = async(branchid) => {\n\n        if(!branchid)\n            branchid = this.state.branchValue\n\n        try{\n             const response = await fetch(process.env.REACT_APP_BASE_URL+'bookstore/buybook/books/'+branchid,{\n                 method:\"GET\",\n                 headers:{\n                     'Authorization':'bearer '+this.context.token\n                 }\n             })\n            const resData = await response.json()\n            console.log(resData)\n            this.setState({\n                branchValue:branchid,\n                bookOptions:resData,\n                isBookEnabled:true\n            })\n        }catch(err){\n            console.log(err)\n        }\n    }\n\n\n    handleBranchSelectOptions =(event) => {\n\n        console.log(event.target.value)\n        if(event.target.value === \"default\"){\n            return this.setState({\n                branchValue:event.target.value,\n                isBookEnabled:false,\n                bookValue:\"default\",\n                bookOptions:[]\n            })\n        }\n\n        if(!this.state.isBranchManaged)\n            return this.fetchBooks(event.target.value)\n\n        this.setState({\n            branchValue:event.target.value\n        })\n\n    }\n\n    handleBookSelectOptions = (event) => {\n        console.log(event.target.value)\n        this.setState({\n            bookValue:event.target.value\n        })\n\n    }\n\n    handleSwitchBranchBook = (event) => {\n        \n        const name = event.target.name\n        if(name === \"books\" && this.state.isBranchManaged){\n            return this.setState({\n                isBranchManaged:false,\n                branchValue:\"default\",\n                bookValue:\"default\"\n            })\n        }\n        if(name === \"branch\" && !this.state.isBranchManaged){\n            return this.setState({\n                isBranchManaged:true,\n                branchValue:\"default\",\n                bookValue:\"default\"\n            })\n        }\n    }\n\n\n    handleBookDelete = () => {\n\n        if(this.state.bookValue === \"default\")\n            return alert('Select Any Book')\n\n        const bookid = this.state.bookValue\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/admin/book/'+bookid,{\n            method:\"DELETE\",\n              headers:{\n                     'Authorization':'bearer '+this.context.token\n                }\n        }).then(response => response.json())\n        .then(resData => {\n\n            const updatedBooks = this.state.bookOptions.filter((book) => {\n                return book.bookid !== bookid\n            })\n\n            this.setState({\n                bookOptions : updatedBooks,\n                bookValue:\"default\"\n            })\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n\n    handleBranchDelete = () => {\n\n        if(this.state.branchValue === \"default\")\n            return alert('Select Any Branch')\n\n        const branchid = this.state.branchValue\n        fetch(process.env.REACT_APP_BASE_URL+'bookstore/admin/branch/'+branchid,{\n            method:\"DELETE\",\n              headers:{\n                     'Authorization':'bearer '+this.context.token\n                }\n        }).then(response => response.json())\n        .then(resData => {\n\n            const updatedBranches = this.state.branchOptions.filter((branch) => {\n                return branch.branchid !== branchid \n            })\n\n            this.setState({\n                branchOptions:updatedBranches,\n                branchValue:\"default\"\n            })\n        })\n        .catch(err => {\n            console.log(err)\n        })\n\n    }\n\n\n    render(){\n\n\n        console.log(this.state.branchValue)\n        const branchOptions = this.state.branchOptions.map((branch)=>{\n            return <option key={branch.branchid} value={branch.branchid}>{branch.branchname}</option>\n        })\n\n        let bookOptions = []\n        if(this.state.isBookEnabled){\n            bookOptions = this.state.bookOptions.map((book) => {\n                return <option key={book.bookid} value={book.bookid}>{book.title}</option>\n            })\n        }\n\n\n        return (\n            <React.Fragment>\n                <AdminNavBar switch={this.handleSwitchBranchBook}/>\n                <div style={{marginTop:\"1rem\", marginBottom:\"1rem\"}} className=\"container w-100 d-flex\">\n                    <OptionSelector \n                            btnText={this.state.isBranchManaged ? \"Delete\": null}\n                            defaultOption=\"Select Any Branch\"\n                            value={this.state.branchValue}\n                            onChange={this.handleBranchSelectOptions}\n                            options={branchOptions}\n                            onClick={this.handleBranchDelete}\n                            />\n                    {!this.state.isBranchManaged && \n                      this.state.isBookEnabled && \n                      <OptionSelector btnText=\"Delete\" \n                                      options={bookOptions}\n                                      defaultOption=\"Select Any Book\"\n                                      value={this.state.bookValue}\n                                      onChange={this.handleBookSelectOptions}\n                                      onClick={this.handleBookDelete}\n                                      />} \n                \n                </div>\n                {this.state.isBranchManaged && <CreateBranch reflect={this.fetchBranches}/>}\n                {!this.state.isBranchManaged && (this.state.branchValue!==\"default\") && <AddBook reflect={this.fetchBooks} btnText=\"Add Book\" url={process.env.REACT_APP_BASE_URL+'bookstore/admin/book'} branchid={this.state.branchValue}/>  } \n            </React.Fragment>\n        )\n    }\n}\n\n\n\n\nexport default AdminProductsPage","import React from 'react'\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom'\nimport './App.css'\nimport AuthContext from './context/auth-context'\n\nimport NavBar from './components/NavBar/NavBar'\nimport HomePage from './pages/HomePage'\nimport AboutPage from './pages/AboutPage'\nimport AuthPage from './pages/AuthPage'\nimport BuyBookPage from './pages/BuyBookPage'\nimport MyCartPage from './pages/MyCartPage'\nimport SellPage from './pages/SellPage'\nimport AdminRequestsPage from './pages/AdminRequestsPage'\nimport AdminProductsPage from './pages/AdminProductsPage'\n\nimport Books from './components/BuyBook/Books/Books'\n\nclass App extends React.Component {\n  // State for managing authentication\n  state = {\n    token: null,\n    userId: null,\n    firstname: '',\n    signedIn: false,\n    isAdmin: false,\n  }\n\n  componentDidMount() {\n    const token = localStorage.getItem('token')\n    const expiryDate = localStorage.getItem('expiryDate')\n    const userId = localStorage.getItem('userId')\n    const fname = localStorage.getItem('fname')\n    const isAdmin = localStorage.getItem('isAdmin')\n    //const lname = localStorage.getItem('lname')\n\n    // If token doesn't exists\n    if (!token || !expiryDate || !userId) {\n      return\n    }\n\n    // Check for expiration time\n    if (new Date(expiryDate) <= new Date()) {\n      this.logout()\n      return\n    }\n\n    const remainingMilliseconds =\n      new Date(expiryDate).getTime() - new Date().getTime()\n    this.setState({\n      userId: userId,\n      token: token,\n      firstname: fname,\n      signedIn: true,\n      isAdmin: isAdmin === \"true\" ? true : false,\n    })\n    this.setAutoLogout(remainingMilliseconds)\n  }\n\n  setAutoLogout = (milliseconds) => {\n    setTimeout(() => {\n      this.logout()\n    }, milliseconds)\n  }\n\n  // On successful Login get the token value recieved from server and store it in state\n  login = (token, userId, tokenExpiration, firstname, isAdmin) => {\n    this.setState({\n      token: token,\n      userId: userId,\n      firstname: firstname,\n      signedIn: true,\n      isAdmin,\n    })\n\n    localStorage.setItem('token', token)\n    localStorage.setItem('userId', userId)\n    localStorage.setItem('fname', firstname)\n    localStorage.setItem('isAdmin', isAdmin)\n    const remainingMilliseconds = tokenExpiration * 60 * 60 * 1000\n    console.log(remainingMilliseconds)\n    const expiryDate = new Date(new Date().getTime() + remainingMilliseconds)\n    console.log(expiryDate)\n    localStorage.setItem('expiryDate', expiryDate.toLocaleString())\n    this.setAutoLogout(remainingMilliseconds)\n  }\n\n  // On logging out reset the auth state\n  logout = () => {\n    this.setState({\n      token: null,\n      userId: null,\n      firstname: '',\n      signedIn: false,\n      isAdmin: false,\n    })\n\n    localStorage.removeItem('token')\n    localStorage.removeItem('userId')\n    localStorage.removeItem('expiryDate')\n    localStorage.removeItem('fname')\n    localStorage.removeItem('isAdmin')\n  }\n\n  render() {\n\n    console.log('IS ADMIN')\n    console.log(this.state.token)\n\n    return (\n      <React.Fragment>\n        <BrowserRouter>\n          <AuthContext.Provider\n            value={{\n              token: this.state.token,\n              userId: this.state.userId,\n              firstname: this.state.firstname,\n              login: this.login,\n              logout: this.logout,\n            }}\n          >\n            <NavBar\n              logout={this.logout}\n              isAdmin={this.state.isAdmin}\n              isSignedIn={this.state.signedIn}\n            />\n            <Switch>\n              {/* <Books /> */}\n              {!this.state.token && <Redirect from='/buy' to='/auth' />}\n              {!this.state.token && <Redirect from='/sell' to='/auth' />}\n              {!this.state.token && <Redirect from='/cart' to='/auth' />}\n              {!this.state.token && (\n                <Redirect from='/admin/products' to='/auth' />\n              )}\n              {!this.state.token && (\n                <Redirect from='/admin/requests' to='/auth' />\n              )}\n              {this.state.token && <Redirect from='/auth' to='/' />}\n              {!this.state.token && (\n                <Route path='/auth'>\n                  <AuthPage />\n                </Route>\n              )}\n              <Route path='/about'>\n                <AboutPage />\n              </Route>\n              {this.state.token && !this.state.isAdmin && (\n                <Route path='/buy'>\n                  <BuyBookPage />\n                </Route>\n              )}\n              {this.state.token && !this.state.isAdmin && (\n                <Route path='/sell'>\n                  <SellPage\n                    btnText='Sell Book'\n                    url={process.env.REACT_APP_BASE_URL + 'bookstore/sellbook'}\n                  />\n                </Route>\n              )}\n              {this.state.token && !this.state.isAdmin && (\n                <Route path='/cart'>\n                  <MyCartPage />\n                </Route>\n              )}\n              {this.state.token && this.state.isAdmin && (\n                <Route path='/admin/products'>\n                  <AdminProductsPage />\n                </Route>\n              )}\n              {this.state.token && this.state.isAdmin && (\n                <Route path='/admin/requests'>\n                  <AdminRequestsPage />\n                </Route>\n              )}\n              <Route exact path='/'>\n                <HomePage />\n              </Route>\n            </Switch>\n          </AuthContext.Provider>\n        </BrowserRouter>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}